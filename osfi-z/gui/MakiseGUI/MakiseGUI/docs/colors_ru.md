Для использования графического интерфейса в микроконтроллерах с малым количеством оперативной памяти используется система двух буферов - первый, размером равным разрешению экрана, но с маленькой глубиной пикселя, назовём его первичным буфером. И вторым, маленького размера, но с глубиной пикселя равной глубине пиксела на дисплее - вторичный.

Всё рисуется в первичный буффер, вторичный необходим для отправки содержимого на дисплей. Может быть два варианта:
1) Глубина пикселей буффера совпадает
2) Глубина не совпадает

1) Если совпадает глубина первичного и вторичного буфферов, то всё просто: значения каждого пикселя переносятся из первичного буффера во вторичный без измененияй, а из последнего значения отправляются на дисплей.

2) Не совпадать глубина может из-за того, что глубина первичного буфера меньше вторичного для экономии памяти МК. Т.к. обычно необходимо в этом случае необходимо экстремально экономить её - чтобы не использовать внешнюю микросхему памяти, то и глубину первичного буффера не имеет смысла делать всего в пару раз меньше глубины дисплея. Чем меньше, тем лучше, но в то же время необходимо сохранить разнообразие цветов. 

В библиотеке для этого используется палитра цветов. Максимальная глубина пиксела первичного буффера в этом режиме равна 4, т.е. всего 16 цветов. Доступны так же глубина 2 бита(4 цвета) и 1 бит(черно-белый). Всё для экономии памяти. Каждый цвет имеет своё значение в палитре, которое и будет передано на дисплей. Значения цветов в палитре могут быть различны и могут изменятся во время работы.
